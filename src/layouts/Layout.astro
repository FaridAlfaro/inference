---
interface Props {
	title: string;
	scroll: string;
}

const { title, scroll = 'auto' } = Astro.props;

---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/logos/cuadrado.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body style=`overflow-y:${scroll}`>
		<div class="gradient-bg">
			<svg class="noise">
				<filter id='noiseFilter'>
				  <feTurbulence 
					type='fractalNoise' 
					baseFrequency='0.6' 
					stitchTiles='stitch'/>
				   <feColorMatrix in="colorNoise" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />
					  <feComposite operator="in" in2="SourceGraphic" result="monoNoise"/>
					  <feBlend in="SourceGraphic" in2="monoNoise" mode="screen" />
				</filter>
			  </svg>
		
			<svg xmlns="http://www.w3.org/2000/svg">
			  <defs>
				<filter id="goo">
				  <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
				  <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8" result="goo" />
				  <feBlend in="SourceGraphic" in2="goo" />
				</filter>
			  </defs>
			</svg>
			<div class="gradients-container">
			  <div class="g1"></div>
			  <div class="g2"></div>
			  <div class="g3"></div>
			  <div class="g4"></div>
			  <div class="g5"></div>
			  <div class="interactive"></div>
			</div>
		  </div>
		  <slot /> 
	  <script>
    document.addEventListener('DOMContentLoaded', () => {
		  const interBubble = document.querySelector<HTMLDivElement>('.interactive')!;
      let curX = 0;
      let curY = 0;
      let tgX = 0;
      let tgY = 0;
	
      function move() {
        curX += (tgX - curX) / 20;
        curY += (tgY - curY) / 20;
        interBubble.style.transform = `translate(${Math.round(curX)}px, ${Math.round(curY)}px)`;
        requestAnimationFrame(() => {
          move();
        });
      }
    
      window.addEventListener('mousemove', (event) => {
        tgX = event.clientX;
        tgY = event.clientY;
      });
    
      move();
    });
  </script>
		
	</body>
</html>
<style>

	:root {
  --color-bg1: #efefef;
  --color-bg2: #2b054b;
  --color1: 18, 113, 255;
  --color2: 221, 74, 255;
  --color3: 100, 220, 255;
  --color4: 200, 50, 50;
  --color5: 180, 180, 50;
  --color-interactive: 23, 190, 209;
  --circle-size: 200%;
  --blending: hard-light;
}
@keyframes moveInCircle {
  0% {
    transform: rotate(0deg);
  }
  50% {
    transform: rotate(180deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes moveVertical {
  0% {
    transform: translateY(-50%);
  }
  50% {
    transform: translateY(50%);
  }
  100% {
    transform: translateY(-50%);
  }
}

@keyframes moveHorizontal {
  0% {
    transform: translateX(-50%) translateY(-10%);
  }
  50% {
    transform: translateX(50%) translateY(10%);
  }
  100% {
    transform: translateX(-50%) translateY(-10%);
  }
}


.gradient-bg {
  width: 100vw;
  height: 100%;
  position: fixed;
  z-index: -2;
  overflow: hidden;
  background: linear-gradient(40deg, var(--color-bg1), var(--color-bg2));
  filter: url(#noiseFilter);
  top: 0;
  left: 0;

  & svg {
    display: none;
  }


  .gradients-container {
    filter: url(#goo) blur(100px);
    width: 100vw;
    height: 100%;
  }

  .g1 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--color1), 0.8) 0, rgba(var(--color1), 0) 50%) no-repeat;
    mix-blend-mode: var(--blending);
    width: var(--circle-size);
    height: var(--circle-size);
    top: calc(50% - var(--circle-size) / 2);
    left: calc(50% - var(--circle-size) / 2);
    transform-origin: center center;
    animation: moveVertical 20s ease infinite;
  }

  .g2 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--color2), 0.8) 0, rgba(var(--color2), 0) 50%) no-repeat;
    mix-blend-mode: var(--blending);
    width: var(--circle-size);
    height: var(--circle-size);
    top: calc(50% - var(--circle-size) / 2);
    left: calc(50% - var(--circle-size) / 2);
    transform-origin: calc(50% - 400px);
    animation: moveInCircle 10s reverse infinite;
  }

  .g3 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--color3), 0.8) 0, rgba(var(--color3), 0) 50%) no-repeat;
    mix-blend-mode: var(--blending);
    width: var(--circle-size);
    height: var(--circle-size);
    top: calc(50% - var(--circle-size) / 2 + 200px);
    left: calc(50% - var(--circle-size) / 2 - 500px);
    transform-origin: calc(50% + 400px);
    animation: moveInCircle 20s linear infinite;
  }

  .g4 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--color4), 0.8) 0, rgba(var(--color4), 0) 50%) no-repeat;
    mix-blend-mode: var(--blending);
    width: var(--circle-size);
    height: var(--circle-size);
    top: calc(50% - var(--circle-size) / 2);
    left: calc(50% - var(--circle-size) / 2);
    transform-origin: calc(50% - 200px);
    animation: moveHorizontal 6s ease infinite;
  }

  .g5 {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--color5), 0.8) 0, rgba(var(--color5), 0) 50%) no-repeat;
    mix-blend-mode: var(--blending);
    width: calc(var(--circle-size) * 2);
    height: calc(var(--circle-size) * 2);
    top: calc(50% - var(--circle-size));
    left: calc(50% - var(--circle-size));
    transform-origin: calc(50% - 800px) calc(50% + 200px);
    animation: moveInCircle 10s ease infinite;
  }

  .interactive {
    position: absolute;
    background: radial-gradient(circle at center, rgba(var(--color-interactive), 0.8) 0, rgba(var(--color-interactive), 0) 50%) no-repeat;
    mix-blend-mode: var(--blending);
    width: 100%;
    height: 100%;
    top: -50%;
    left: -50%;
    opacity: 0.7;
  }
}
@media (max-width: 700px) {
  .gradient-bg{
    background: linear-gradient(40deg, #696666, #000000);
    filter: url(#noiseFilter) brightness(.3);
  .g1 {
    display: none;

    animation: none;
  }

  .g2 {
    display: none;
    
    animation: none;

  }

  .g3 {
    display: none;
    
    animation: none;

  }

  .g4 {
    
    animation: none;
    display: none;

  }

  .g5 {
    display: none;

    animation: none;

  }
}

  .interactive{
    display: none;
  }
}
body{
  position: relative;
}

</style>
<style is:global>

	@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap');
	:root {
		--black: #000;
		--white: #efefef;
		--color1: #33D7D1;
		--contrast1: #20A39E;
		--color2: #F6A2A2;
		--contrast2: #EF5B5B;
		--color3: #f4c36f;
		--contrast3: #FF9F1C;
		--accent: 136, 58, 234;
		--accent-light: 224, 204, 250;
		--accent-dark: 49, 10, 101;
		--accent-gradient: linear-gradient(
			45deg,
			rgb(var(--accent)),
			rgb(var(--accent-light)) 30%,
			white 60%
		);
	}

	html {
		font-family: "IBM Plex serif", sans-serif;
		box-sizing: border-box;
    width: 100vw;
	}
	p{
		font-family: "IBM Plex Sans", sans-serif;
	}
	body{
    width: 100vw;
		box-sizing: border-box;
    overflow-x: hidden !important; 
	}
  @keyframes fade-up {
        from {
            opacity: 0;
            filter: blur(40px);
        }
        to {
            opacity: 1;
        }
    }
    @keyframes slide-up {
        from {
            transform: translateY(40vh);
            opacity: 0;
        }
    }
    @keyframes fade-up-traslate {
		0% {
			opacity: 0;
			transform: translateY(1000px);
            filter: blur(40px);
		}
		100% {
			opacity: 1;
		}
	}
</style>
